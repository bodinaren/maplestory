System.register(["./p-82ba09a9.system.js","./p-05ba513d.system.js"],function(e){"use strict";var l,r;return{setters:[function(e){l=e.d},function(e){r=e.a}],execute:function(){function i(e,l,r){if(l.skillRequirements){var i=!1;l.skillRequirements.forEach(function(l){if(e[l.skill.prop]<l.level){var n=r?"Level "+l.level+"+":void 0;e.skills[l.skill.prop].required!==n&&(e.skills[l.skill.prop].required=n,i=!0)}}),i&&(e.skills=Object.assign({},e.skills))}}e({a:function(e,l,i){var n={},s=0,t=0;i&&e[i.prop]>0&&i.skillRequirements&&i.skillRequirements.forEach(function(l){!function e(l,r){l[r.skill.prop]<r.level&&(l[r.skill.prop]=r.level),r.skill.skillRequirements&&r.skill.skillRequirements.forEach(function(r){e(l,r)})}(e,l)}),Object.keys(l).forEach(function(i){var o=l[i];o.rank===r.Basic?s+=e[o.prop]:t+=e[o.prop],n[o.prop]={locked:!1,required:void 0,limitReached:!1}}),i&&i.rank===r.Basic&&s>72&&(e[i.prop]-=s-72),i&&i.rank===r.Awakening&&t>15&&(e[i.prop]-=t-15),Object.keys(l).forEach(function(i){var o=l[i];if(o.skillRequirements&&o.skillRequirements.forEach(function(l){e[l.skill.prop]<l.level&&(n[o.prop].locked=!0,e[o.prop]=0)}),n[o.prop].limitReached=o.rank===r.Basic?s>=72:t>=15,0===e[o.prop]){var a=function(e,l){var r={};return l.skillRequirements?(function l(i){i.skillRequirements.forEach(function(i){var n=Math.max(0,i.level-e[i.skill.prop]);(!r[i.skill.prop]||r[i.skill.prop]<n)&&(r[i.skill.prop]=n),i.skill.skillRequirements&&l(i.skill)})}(l),Object.keys(r).reduce(function(e,l){return e+r[l]},0)):0}(e,o);o.rank===r.Basic?a+1>72-s&&(n[o.prop].limitReached=!0):a+1>15-t&&(n[o.prop].limitReached=!0)}}),e.skills=n},b:function(e,l,r){var i={rank:e.rank,skills:Object.keys(l).map(function(r){var i=l[r];return{skill:i.name,attr:i.attr,prop:i.prop,level:e[i.prop],minLevel:i.minLevel,maxLevel:i.maxLevel,rank:i.rank}})};return r&&(i.other=Object.keys(r).map(function(e){return{attr:e,value:r[e]}})),i},c:function(e,n,s,t,o,a){return void 0===t&&(t=!1),void 0===o&&(o=r.Basic),Object.keys(n).map(function(r){var c=n[r],p=e.skills[c.prop];return l("ms-skill",Object.assign({slot:"rank-"+o,class:c.prop,skill:c,level:e[c.prop],locked:p.locked,required:p.required,limitReached:p.limitReached,disabled:!s,loop:s,onLevelchanged:function(l){return e.levelChanged(c,l.detail)},onMouseEnter:function(){return p.locked&&i(e,c,!0)},onMouseLeave:function(){return p.locked&&i(e,c,!1)},extras:t},a))})}})}}});