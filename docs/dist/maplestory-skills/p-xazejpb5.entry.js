import{e,d as t,h as s}from"./p-d91599c0.js";import{a as r,c as i,b as n}from"./p-6eca2c8b.js";class a{constructor(t){e(this,t),this.points=0}componentDidLoad(){let e=document.getElementById(this.editor);e||(e=document.querySelector("ms-archer,ms-assassin,ms-berserker,ms-heavy-gunner,ms-knight,ms-priest,ms-runeblade,ms-soul-binder,ms-striker,ms-thief,ms-wizard")),e.componentOnReady().then(e=>{this._editor=e,this.points=this._editor.rank===r.Awakening?i-1:n-4,this._editor.addEventListener("skillchanged",e=>{this.updatePointsLeft(e.detail)})})}updatePointsLeft(e){const t=this._editor.rank;this.points=(t===r.Awakening?i:n)-e.skills.reduce((e,s)=>s.rank===t?e+s.level:e,0)}render(){return this.points}}class o{constructor(t){e(this,t),this._skills={rank:1,skills:[]}}componentDidLoad(){let e=document.getElementById(this.editor);e||(e=document.querySelector("ms-archer,ms-assassin,ms-berserker,ms-heavy-gunner,ms-knight,ms-priest,ms-runeblade,ms-soul-binder,ms-striker,ms-thief,ms-wizard")),this._tagName=e.tagName.toLowerCase(),e.componentOnReady().then(e=>{this._editor=e,this._editor.addEventListener("skillchanged",e=>{this._skills=e.detail})})}render(){if(this._editor)return t(s,null,t("slot",{name:"first"}),t("slot",null),this.getTag(),t("slot",{name:"last"}))}getTag(){let e="";this._editor.extras&&(e=" extras");let t=this.getProperties(this._skills);return t&&(t=" "+t),`<${this._tagName} rank="${this._editor.rank}${e}${t}></${this._tagName}>`}getProperties(e){let t=e.skills.filter(e=>e.level>e.minLevel).map(e=>`${e.attr}="${e.level}"`).join(" ");return e.other&&(t+=" "+e.other.map(e=>`${e.attr}="${e.value}"`)),t}}export{a as ms_extra_counter,o as ms_extra_outlet};