System.register(["./p-82ba09a9.system.js","./p-832ce77e.system.js"],function(e){"use strict";var l,r,i,n;return{setters:[function(e){l=e.d},function(e){r=e.a,i=e.b,n=e.c}],execute:function(){function s(e,l,r){if(l.skillRequirements){var i=!1;l.skillRequirements.forEach(function(l){if(e[l.skill.prop]<l.level){var n=r?"Level "+l.level+"+":void 0;e.skills[l.skill.prop].required!==n&&(e.skills[l.skill.prop].required=n,i=!0)}}),i&&(e.skills=Object.assign({},e.skills))}}e({a:function(e,l,s,t){var o={},a=0,c=0;t&&e[t.prop]>0&&t.skillRequirements&&t.skillRequirements.forEach(function(l){!function e(l,r){l[r.skill.prop]<r.level&&(l[r.skill.prop]=r.level),r.skill.skillRequirements&&r.skill.skillRequirements.forEach(function(r){e(l,r)})}(e,l)}),Object.keys(l).forEach(function(i){var n=l[i];n.rank===r.Basic?a+=e[n.prop]:c+=e[n.prop],o[n.prop]={locked:!1,required:void 0,limitReached:!1}}),s||(t&&t.rank===r.Basic&&a>i&&(e[t.prop]-=a-i),t&&t.rank===r.Awakening&&c>n&&(e[t.prop]-=c-n)),Object.keys(l).forEach(function(t){var p=l[t];if(p.skillRequirements&&p.skillRequirements.forEach(function(l){e[l.skill.prop]<l.level&&(o[p.prop].locked=!0,e[p.prop]=0)}),!s&&(o[p.prop].limitReached=p.rank===r.Basic?a>=i:c>=n,0===e[p.prop])){var k=function(e,l){var r={};return l.skillRequirements?(function l(i){i.skillRequirements.forEach(function(i){var n=Math.max(0,i.level-e[i.skill.prop]);(!r[i.skill.prop]||r[i.skill.prop]<n)&&(r[i.skill.prop]=n),i.skill.skillRequirements&&l(i.skill)})}(l),Object.keys(r).reduce(function(e,l){return e+r[l]},0)):0}(e,p);p.rank===r.Basic?k+1>i-a&&(o[p.prop].limitReached=!0):k+1>n-c&&(o[p.prop].limitReached=!0)}}),e.skills=o},b:function(e,l,r){var i={rank:e.rank,skills:Object.keys(l).map(function(r){var i=l[r];return{skill:i.name,attr:i.attr,prop:i.prop,level:e[i.prop],minLevel:i.minLevel,maxLevel:i.maxLevel,rank:i.rank}})};return r&&(i.other=Object.keys(r).map(function(e){return{attr:e,value:r[e]}})),i},c:function(e,i,n,t,o,a){return void 0===t&&(t=!1),void 0===o&&(o=r.Basic),Object.keys(i).map(function(r){var c=i[r],p=e.skills[c.prop];return l("ms-skill",Object.assign({slot:"rank-"+o,class:c.prop,skill:c,level:e[c.prop],locked:p.locked,required:p.required,limitReached:p.limitReached,disabled:!n,loop:n,onLevelchanged:function(l){return e.levelChanged(c,l.detail)},onMouseEnter:function(){return p.locked&&s(e,c,!0)},onMouseLeave:function(){return p.locked&&s(e,c,!1)},extras:t},a))})}})}}});